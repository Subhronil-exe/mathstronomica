<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mathstronomica AI</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Inter:wght@400;500&display=swap');

body {
font-family: 'Inter', sans-serif;
margin: 0; padding: 0;
background: #000;
color: #fff;
overflow-x: hidden;
}

/* Header */
header {
font-family: 'Orbitron', sans-serif;
font-size: 2.5em;
text-align: center;
font-weight: bold;
background: linear-gradient(90deg,#00f0ff,#ff00f0,#00ff00,#ff0);
background-size: 300% 300%;
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
animation: gradientShift 8s ease infinite;
padding: 25px;
}
@keyframes gradientShift {
0%{background-position:0% 50%;}
50%{background-position:100% 50%;}
100%{background-position:0% 50%;}
}

/* Container */
.container {
max-width: 700px;
margin: 0 auto;
padding: 15px;
display: flex;
flex-direction: column;
gap: 25px;
}

/* Chatbot */
.chat-container {
background: #111;
border-radius: 20px;
box-shadow: 0 0 40px #00f0ff, 0 0 80px #ff00f0;
overflow: hidden;
display: flex;
flex-direction: column;
}

.chat-header {
padding: 20px;
font-family: 'Orbitron', sans-serif;
font-weight: bold;
font-size: 1.5em;
text-align: center;
color: #000;
border-bottom: 2px solid #fff;
background: linear-gradient(90deg,#ff00f0,#00f0ff,#ff0,#0f0);
background-size:300% 300%;
animation: gradientShift 6s ease infinite;
}

.chat-body {
padding: 15px;
flex: 1;
overflow-y: auto;
display: flex;
flex-direction: column;
gap: 10px;
font-size: 1.1em;
line-height: 1.5em;
}

.msg {
padding: 12px;
border-radius: 12px;
max-width: 80%;
background: rgba(255,255,255,0.05);
color: #fff;
border: 1px solid rgba(0,240,255,0.2);
box-shadow: 0 0 8px rgba(0,240,255,0.2);
word-wrap: break-word;
}

.msg.user {
align-self: flex-end;
background: #00f0ff33;
color: #000;
border-color: #00f0ff;
}

.chat-footer {
display: flex;
gap: 10px;
padding: 10px;
background: #111;
}

.chat-footer input {
flex: 1;
padding: 12px;
border-radius: 12px;
border: 1px solid #00f0ff;
outline: none;
background: #222;
color: #fff;
font-size: 1em;
}

.chat-footer button {
padding: 12px 18px;
border-radius: 12px;
border: none;
background: #00f0ff;
color: black;
font-weight: bold;
cursor: pointer;
transition: 0.2s;
}

.chat-footer button:hover {
background: #0ff;
}

/* Suggestions */
#suggestions {
display: flex;
flex-wrap: wrap;
gap: 10px;
justify-content: center;
}

.suggestion-pill {
padding: 6px 12px;
border-radius: 20px;
border: 1px solid #0ff;
color: #0ff;
cursor: pointer;
font-size: 13px;
background: rgba(0,0,0,0.3);
backdrop-filter: blur(4px);
transition: 0.2s;
}
.suggestion-pill:hover {
background: #0ff;
color: black;
}

/* QR */
.qr-container {
text-align: center;
margin-top: 20px;
}

/* Stars */
.stars {
position: fixed;
top:0; left:0;
width:100%; height:100%;
z-index:-1;
overflow:hidden;
}

.star {
position:absolute;
width:2px; height:2px;
background:white;
border-radius:50%;
opacity:0.8;
animation: moveStars linear infinite;
}

@keyframes moveStars {
from { transform: translateY(0) translateX(0); }
to { transform: translateY(-1200px) translateX(600px); }
}

/* Footer */
footer {
text-align:center;
font-size:1em;
color:#0ff;
margin:40px 0 20px;
font-family:'Inter', sans-serif;
} </style>

</head>
<body>
<div class="stars" id="stars"></div>

<header>Mathstronomica AI ðŸŒŒ</header>

<div class="container">
  <div id="suggestions">
    <div class="suggestion-pill">Explain Kepler's Law</div>
    <div class="suggestion-pill">Satellite Orbits</div>
    <div class="suggestion-pill">Distance Calculation</div>
    <div class="suggestion-pill">Space Simulation</div>
    <div class="suggestion-pill">Mathstronomica Project</div>
  </div>

  <div class="chat-container">
    <div class="chat-header">Quick Guide Bot ðŸ¤–</div>
    <div class="chat-body" id="chatBody">
      <div class="msg">Hello! Ask me anything about Mathstronomica or satellites.</div>
    </div>
    <div class="chat-footer">
      <input id="userInput" placeholder="Type here..." />
      <button id="sendBtn">Send</button>
    </div>
  </div>

  <div class="qr-container">
    <h2 style="font-family:'Orbitron', sans-serif; color:#0ff;">Scan to open Mathstronomica</h2>
    <canvas id="qrCanvas"></canvas>
  </div>
</div>

<footer>
Made by Subhronil and Piya Sharma <br>
Special Credits: Arijit Chatterjee (Xth D) <br>
Â© 2025 Mathstronomica
</footer>

<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>

<script>
const starsContainer = document.getElementById('stars');
for(let i=0;i<120;i++){
  const star=document.createElement('div');
  star.className='star';
  star.style.top=Math.random()*100+'%';
  star.style.left=Math.random()*100+'%';
  star.style.width=Math.random()*3+'px';
  star.style.height=star.style.width;
  star.style.animationDuration=5+Math.random()*10+'s';
  starsContainer.appendChild(star);
}

// QR code
QRCode.toCanvas(document.getElementById('qrCanvas'), 'https://mathstronomica-ai.tiiny.site', {width:150});

// OpenAI API
const OPENAI_API_KEY = "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";

async function askAI(question){
  if(!OPENAI_API_KEY || OPENAI_API_KEY.includes("ENTER-YOUR")){
    return "ERROR: Please insert your OpenAI API key in the script.";
  }
  try {
    const res = await fetch("https://api.openai.com/v1/chat/completions", {
      method:"POST",
      headers:{
        "Content-Type":"application/json",
        "Authorization":`Bearer ${OPENAI_API_KEY}`
      },
      body: JSON.stringify({
        model:"gpt-4o-mini",
        messages:[
          {role:"system", content:"You are Mathstronomica AI. Respond formally, scientifically, no emojis, max 50 words."},
          {role:"user", content: question}
        ]
      })
    });
    const data = await res.json();
    if(!data.choices) return "API Error. Check your key or network.";
    return data.choices[0].message.content;
  } catch(e){ return "API Error: "+e.message; }
}

// Chat
const chatBody = document.getElementById("chatBody");
const userInput = document.getElementById("userInput");
document.getElementById("sendBtn").onclick = sendMessage;
userInput.addEventListener("keydown", e=>{if(e.key==="Enter") sendMessage();});

function addMessage(txt, isUser=false){
  const div = document.createElement("div");
  div.className = "msg" + (isUser?" user":"");
  div.textContent = txt;
  chatBody.appendChild(div);
  chatBody.scrollTop = chatBody.scrollHeight;
}

async function sendMessage(){
  const txt = userInput.value.trim();
  if(!txt) return;
  addMessage(txt,true);
  userInput.value="";
  const reply = await askAI(txt);
  addMessage(reply);
}

// Suggestions
document.querySelectorAll(".suggestion-pill").forEach(p=>{p.onclick=()=>userInput.value=p.textContent;});
</script>

</body>
</html>
